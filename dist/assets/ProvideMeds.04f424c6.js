import{r as o,l as O,b as v,j as a,a as t,F as T}from"./index.d87dee6f.js";import{D as S}from"./DeleteButton.055862da.js";import{E as j}from"./EditButton.a6d27025.js";import{S as y}from"./SearchInput.d51e8da3.js";import{j as C}from"./react-confirm-alert.30c1f10e.js";import{O as E,a as M}from"./OptionsTh.e3256f46.js";import{T as N,a as A,b as h,c as B,d as l}from"./Thead.63124400.js";import{I as R}from"./IndexNo.141a2ac1.js";import{V as i}from"./ViewButton.b65128a7.js";import{T as $}from"./TotalNo.2b8dc21c.js";import{R as I}from"./ReactPagination.781004e5.js";import{R as u}from"./index.esm.bd88e434.js";import{P as V}from"./PharmacistSidebar.18f8d1d6.js";import"./ButtonPreloader.e6928a61.js";import"./index.esm.e91ca65e.js";import"./Forbidden.02296651.js";function ae(){const[d,g]=o.exports.useState([]),[f,c]=o.exports.useState(1),{user:s}=o.exports.useContext(O);o.exports.useEffect(()=>{v.get("/prescription").then(e=>{g(e.data)})},[]);const D=e=>{v.get(`/prescription?q=${e}`).then(m=>{g(m.data),c(1)})},n=10,x=f*n,F=x-n,_=d.slice(F,x),r=Math.ceil(d.length/n),w=e=>{c(e.selected+1)};return a(V,{children:t("div",{className:"p-8 bg-gray-100",children:[t("div",{className:"flex justify-between items-center",children:[a(y,{onSearch:D}),t("div",{className:"items-center flex flex-col lg:flex-row",children:[a($,{totalnumber:d==null?void 0:d.length}),a(I,{pageCount:r,handlePageClick:w})]})]}),t(N,{children:[t(A,{children:[a(R,{children:"#"}),a(h,{children:"Patient"}),a(h,{children:"Date"}),a(h,{children:"Drugs Amount"}),a(h,{children:"Doctor"}),a(E,{children:"Options"})]}),_.map((e,m)=>{var P,b;return t(B,{children:[a(l,{children:m+1*(f*n-9)}),a(l,{children:(P=e==null?void 0:e.patients[0])==null?void 0:P.name}),a(l,{children:e==null?void 0:e.date}),t(l,{children:["\u20B9",e==null?void 0:e.drugamount]}),a(l,{children:(b=e==null?void 0:e.doctor[0])==null?void 0:b.name}),t(M,{children:[a(i,{style:"bg-green-600 hover:bg-green-900",viewFunction:`/pharmacist/add_amount?edit=${e==null?void 0:e._id}`,children:e!=null&&e.drugamount?"Update Amount":t(T,{children:[a(u,{}),"Add Amount"]})}),t(i,{style:"bg-indigo-800 hover:bg-indigo-400",viewFunction:`/pharmacist/view_medications?edit=${e==null?void 0:e._id}`,children:[a(u,{}),"View Medication"]}),(s==null?void 0:s._id)===(e==null?void 0:e.doctorid)&&t(T,{children:[t(j,{editFunction:`/doctor/edit_prescription?edit=${e==null?void 0:e._id}`,children:["Edit",a(u,{})]}),t(S,{deleteFunction:()=>{handleDelete(e==null?void 0:e._id)},children:["Delete",a(C,{})]})]})]})]},m)})]})]})})}export{ae as default};
