import{r,u as g,b as i,j as n,a as s,f as d}from"./index.d87dee6f.js";import{A as v}from"./AccountantSidebar.24d646de.js";import{B as b}from"./ButtonPreloader.e6928a61.js";import"./react-confirm-alert.30c1f10e.js";import{B as S}from"./Button.3275d51a.js";import{I as m}from"./Input.34d9876e.js";import{S as u}from"./Select.a91200f8.js";import{F as x}from"./FormLayout.630feb8e.js";import"./index.esm.4a753652.js";import"./Forbidden.02296651.js";function M(){const[l,p]=r.exports.useState([]),[c,h]=r.exports.useState(!1),[t,f]=r.exports.useState({patientid:"",purpose:"",modeofpayment:"",amount:"",date:""});function o(e){f(a=>({...a,[e.target.name]:e.target.value}))}const y=g();return r.exports.useEffect(()=>{i.get("/patient").then(e=>{p(e.data)})},[]),n(v,{children:n(x,{formName:"New Invoice",children:s("form",{onSubmit:e=>{e.preventDefault(),h(!0),i.post("/payments",{patientid:t==null?void 0:t.patientid,purpose:t==null?void 0:t.purpose,modeofpayment:t==null?void 0:t.modeofpayment,amount:t==null?void 0:t.amount,date:t==null?void 0:t.date}).then(a=>y("/accountant/viewpayments",d.success(a.data),{replace:!0})).catch(a=>{d.error(a.response.data)})},children:[s(u,{label:"Patient",name:"patientid",type:"number",onChange:o,children:[n("option",{value:"",children:"Select Patient"}),l.map((e,a)=>s("option",{value:e==null?void 0:e._id,children:[e==null?void 0:e.registrationId," - ",e==null?void 0:e.name]},a))]}),n(m,{label:"Purpose of Payment",type:"text",name:"purpose",onChange:o}),s(u,{label:"Mode Of Payment",name:"modeofpayment",type:"text",onChange:o,children:[n("option",{value:"",children:"Select Mode of Payment"}),n("option",{value:"Cash",children:"Cash"}),n("option",{value:"Bank Transfer",children:"Bank Transfer"})]}),n(m,{label:"Amount",type:"text",name:"amount",onChange:o}),n(m,{label:"Date",type:"date",name:"date",onChange:o}),n(S,{children:c?n(b,{}):"Add new Payment"})]})})})}export{M as default};
