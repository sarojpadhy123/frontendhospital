import{r,l as x,u as f,i as v,b as m,j as t,F as E,a as b,f as d}from"./index.d87dee6f.js";import{B as C}from"./ButtonPreloader.e6928a61.js";import"./react-confirm-alert.30c1f10e.js";import{B as F}from"./Button.3275d51a.js";import{I as c}from"./Input.34d9876e.js";import{A as S}from"./AdminSidebar.7e14a28f.js";import{F as B}from"./FormLayout.630feb8e.js";import"./index.esm.e91ca65e.js";import"./index.esm.4a753652.js";import"./index.esm.9f9cf711.js";import"./index.esm.812bafa8.js";import"./Forbidden.02296651.js";function M(){const{user:o}=r.exports.useContext(x),[l,u]=r.exports.useState(!1);o==null||o.role;const h=f(),[e,s]=r.exports.useState({name:"",description:""});function i(a){s(n=>({...n,[a.target.name]:a.target.value}))}let g=v().search;const p=new URLSearchParams(g).get("edit");return r.exports.useEffect(()=>{m.get(`/department/?edit=${p}`).then(a=>{s(a.data)})},[]),t(E,{children:t(S,{children:t(B,{formName:"EDIT DEPARTMENT",children:b("form",{onSubmit:a=>{a.preventDefault(),u(!0),m.put(`/department/${p}`,{name:e==null?void 0:e.name,description:e==null?void 0:e.description}).then(n=>{h("/admin/departments",{replace:!0}),d.success(n.data)}).catch(n=>{d.error(n.response.data)})},children:[t(c,{label:"Department Name",name:"name",value:e==null?void 0:e.name,type:"text",onChange:i}),t(c,{label:"Description",name:"description",value:e==null?void 0:e.description,type:"text",onChange:i}),t(F,{children:l?t(C,{}):"Edit Department"})]})})})})}export{M as default};
