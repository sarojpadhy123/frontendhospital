import{r as c,l as I,j as e,a as r,b as g,f as b}from"./index.d87dee6f.js";import{D as E}from"./DeleteButton.055862da.js";import{E as R}from"./EditButton.a6d27025.js";import{B as j}from"./Button.3275d51a.js";import{I as a}from"./Input.34d9876e.js";import{S as L}from"./SearchInput.d51e8da3.js";import{S as v}from"./Select.a91200f8.js";import{j as M}from"./react-confirm-alert.30c1f10e.js";import{O as G,a as _}from"./OptionsTh.e3256f46.js";import{T as $,a as w,b as t,c as k,d}from"./Thead.63124400.js";import{F as q}from"./FormLayout.630feb8e.js";import{T as z}from"./Tabs.f2b07210.js";import{I as H}from"./IndexNo.141a2ac1.js";import{T as J}from"./TotalNo.2b8dc21c.js";import{R as K}from"./index.esm.bd88e434.js";import{R as Q}from"./ReactPagination.781004e5.js";import{B as U}from"./ButtonPreloader.e6928a61.js";function he({role:B}){c.exports.useContext(I);const[S,m]=c.exports.useState(!1),[l,T]=c.exports.useState({name:"",email:"",address:"",phone:"",sex:"",dob:"",age:"",bloodgroup:"",tor:""});function s(o){T(n=>({...n,[o.target.name]:o.target.value}))}function u(){g.get("/patient").then(o=>{p(o.data)}).catch(o=>{b.error(o.data)})}const A=o=>{o.preventDefault(),m(!0),g.post("/patient",{name:l==null?void 0:l.name,email:l==null?void 0:l.email,address:l==null?void 0:l.address,phone:l==null?void 0:l.phone,sex:l==null?void 0:l.sex,dob:l==null?void 0:l.dob,age:l==null?void 0:l.age,bloodgroup:l==null?void 0:l.bloodgroup,tor:l==null?void 0:l.tor}).then(n=>{m(!1),u(),b.success(n.data)}).catch(n=>{m(!1),b.error(n.response.data)})},[i,p]=c.exports.useState([]),[x,f]=c.exports.useState(1);c.exports.useEffect(()=>{u()},[]);const C=o=>{g.get(`/patient?q=${o}`).then(n=>{p(n.data),f(1)})},h=10,P=x*h,O=P-h,y=i.slice(O,P),N=Math.ceil(i.length/h),F=o=>{f(o.selected+1)};return e(z,{label1:"Patients",content1:r("div",{children:[r("div",{className:"flex justify-between items-center",children:[e(L,{onSearch:C}),r("div",{className:"items-center flex flex-col lg:flex-row",children:[e(J,{totalnumber:i==null?void 0:i.length}),e(Q,{pageCount:N,handlePageClick:F})]})]}),r($,{children:[r(w,{children:[e(H,{children:"#"}),e(t,{children:"Reg. Id"}),e(t,{children:"Name"}),e(t,{children:"Phone"}),e(t,{children:"Sex"}),e(t,{children:"Age"}),e(t,{children:"Blood Group"}),e(t,{children:"Time Of Registration"}),e(G,{children:"Options"})]}),y.map((o,n)=>r(k,{children:[e(d,{children:n+1*(x*h-9)}),e(d,{className:"font-bold",children:o==null?void 0:o.registrationId}),e(d,{children:o==null?void 0:o.name}),e(d,{children:o==null?void 0:o.phone}),e(d,{children:o==null?void 0:o.sex}),e(d,{children:o==null?void 0:o.age}),e(d,{children:o==null?void 0:o.bloodgroup}),e(d,{children:o==null?void 0:o.tor}),r(_,{children:[r(R,{editFunction:`${B}/edit_patient?edit=${o==null?void 0:o._id}`,children:["Edit",e(K,{})]}),r(E,{path:"patient",id:o==null?void 0:o._id,record:u,children:["Delete",e(M,{})]})]})]},n))]})]}),label2:"Add Patient",content2:e(q,{formName:"ADD PATIENT",children:r("form",{onSubmit:A,children:[e(a,{label:"Name",type:"text",name:"name",onChange:s}),e(a,{label:"Email",type:"email",name:"email",onChange:s}),e(a,{label:"Address",type:"text",name:"address",onChange:s}),e(a,{label:"Phone Number",type:"text",name:"phone",onChange:s}),r(v,{label:"Sex",name:"sex",onChange:s,children:[e("option",{value:"",children:"Select Sex"}),e("option",{value:"Male",children:"Male"}),e("option",{value:"Female",children:"Female"})]}),e(a,{label:"Date of Birth",type:"date",name:"dob",onChange:s}),e(a,{label:"Age",type:"number",name:"age",onChange:s}),r(v,{label:"Blood Group",name:"bloodgroup",onChange:s,children:[e("option",{value:"",children:"Select Blood Group"}),e("option",{value:"A+",children:"A+"}),e("option",{value:"A-",children:"A-"}),e("option",{value:"B+",children:"B+"}),e("option",{value:"B-",children:"B-"}),e("option",{value:"AB+",children:"AB+"}),e("option",{value:"AB-",children:"AB-"}),e("option",{value:"O+",children:"O+"}),e("option",{value:"O-",children:"O-"})]}),e(a,{label:"Time Of Registration",type:"datetime-local",name:"tor",onChange:s}),e(j,{children:S?e(U,{}):"Add Patient"})]})})})}export{he as P};
