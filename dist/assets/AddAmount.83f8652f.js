import{u as B,r,i as D,b as p,j as a,a as n,f as h}from"./index.d87dee6f.js";import{P as I}from"./PharmacistSidebar.18f8d1d6.js";import{B as j}from"./ButtonPreloader.e6928a61.js";import"./react-confirm-alert.30c1f10e.js";import{B as L}from"./Button.3275d51a.js";import{I as E}from"./Input.34d9876e.js";import"./index.esm.e91ca65e.js";import"./Forbidden.02296651.js";function U(){var c;const g=B(),[f,x]=r.exports.useState(!1),[o,i]=r.exports.useState({drugamount:""});function b(t){i(e=>({...e,[t.target.name]:t.target.value}))}const[s,v]=r.exports.useState([]),[S,N]=r.exports.useState([]),[M,P]=r.exports.useState([]);let A=D().search;const d=new URLSearchParams(A).get("edit");r.exports.useEffect(()=>{p.get(`/prescription/?edit=${d}`).then(t=>{var e,u,m,l;v(t.data),i(t.data),N((u=(e=t.data)==null?void 0:e.patients[0])==null?void 0:u.name),P((l=(m=t.data)==null?void 0:m.doctor[0])==null?void 0:l.name)})},[]);const C=t=>{t.preventDefault(),x(!0),p.put(`/pharmacist_amount/${d}`,{drugamount:o.drugamount}).then(e=>{g("/pharmacist/provide_medications",{replace:!0}),h.success(e.data)}).catch(e=>{h.error(e.response.data)})};return a(I,{children:n("div",{className:"p-8 bg-indigo-50 rounded-xl",children:[n("h1",{className:"font-bold text-lg pb-8 text-indigo-900",children:["Patient: ",S]}),a("h2",{className:"font-bold border-b border-b-indigo-900 text-indigo-900",children:"MEDICATIONS"}),a("div",{className:"pt-4",children:(c=s==null?void 0:s.medication)==null?void 0:c.split(`
`).map((t,e)=>n("div",{className:"flex gap-2 text-lg",children:[n("p",{children:[e+1,"."]}),a("p",{children:t})]},e))}),a("div",{className:"pt-8",children:n("form",{onSubmit:C,children:[a(E,{label:"Amount",type:"text",name:"drugamount",value:o==null?void 0:o.drugamount,onChange:b}),a(L,{children:f?a(j,{}):"Add Amount"})]})})]})})}export{U as default};
