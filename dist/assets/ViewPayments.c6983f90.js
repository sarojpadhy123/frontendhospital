import{r as n,l as j,j as r,a as o,b as P}from"./index.d87dee6f.js";import{R as v}from"./ReactPagination.781004e5.js";import{D as C}from"./DeleteButton.055862da.js";import{E as D}from"./EditButton.a6d27025.js";import{S as E}from"./SearchInput.d51e8da3.js";import{j as I}from"./react-confirm-alert.30c1f10e.js";import{O as R,a as S}from"./OptionsTh.e3256f46.js";import{T as w,a as B,b as i,c as F,d as t}from"./Thead.63124400.js";import{I as M}from"./IndexNo.141a2ac1.js";import{T as _}from"./TotalNo.2b8dc21c.js";import{R as L}from"./index.esm.bd88e434.js";function U(){const{user:s}=n.exports.useContext(j),[c,a]=n.exports.useState([]),[h,f]=n.exports.useState(1);function u(){P.get("/payments").then(e=>{a(e.data)}).catch(e=>{toast.error(e.data)})}n.exports.useEffect(()=>{u()},[]);const T=e=>{P.get(`/payments?q=${e}`).then(l=>{a(l.data),f(1)})},d=10,g=h*d,b=g-d,N=c.slice(b,g),m=Math.ceil(c.length/d),O=e=>{f(e.selected+1)};return r("div",{className:"p-8 bg-gray-100",children:o("div",{children:[o("div",{className:"flex justify-between items-center",children:[r(E,{onSearch:T}),o("div",{className:"items-center flex flex-col lg:flex-row",children:[r(_,{totalnumber:c==null?void 0:c.length}),r(v,{pageCount:m,handlePageClick:O})]})]}),o(w,{children:[o(B,{children:[r(M,{children:"#"}),r(i,{children:"Reg. Id"}),r(i,{children:"Patient Name"}),r(i,{children:"Date"}),r(i,{children:"Amount"}),r(i,{children:"Mode of Payment"}),r(i,{children:"Purpose"}),(s==null?void 0:s.role)!=="admin"&&r(R,{children:"Options"})]}),N.map((e,l)=>{var x;return o(F,{children:[r(t,{children:l+1*(h*d-9)}),r(t,{className:"font-bold",children:(x=e==null?void 0:e.patients[0])==null?void 0:x.registrationId}),r(t,{children:e==null?void 0:e.name}),r(t,{children:e==null?void 0:e.date}),r(t,{children:o("span",{className:"font-bold",children:["\u20B9",e==null?void 0:e.amount]})}),r(t,{children:e==null?void 0:e.modeofpayment}),r(t,{children:e==null?void 0:e.purpose}),(s==null?void 0:s.role)!=="admin"&&o(S,{children:[o(D,{editFunction:`/accountant/edit_payment?edit=${e==null?void 0:e._id}`,children:["Edit",r(L,{})]}),o(C,{path:"payments",id:e==null?void 0:e._id,record:u,children:["Delete",r(I,{})]})]})]},l)})]})]})})}export{U as V};
