import{u as g,r as o,i as x,b as i,j as t,a as v,f as l}from"./index.d87dee6f.js";import{B as C}from"./ButtonPreloader.e6928a61.js";import"./react-confirm-alert.30c1f10e.js";import{B as b}from"./Button.3275d51a.js";import{I as a}from"./Input.34d9876e.js";import{A as w}from"./AdminSidebar.7e14a28f.js";import{F as y}from"./FormLayout.630feb8e.js";import"./index.esm.e91ca65e.js";import"./index.esm.4a753652.js";import"./index.esm.9f9cf711.js";import"./index.esm.812bafa8.js";import"./Forbidden.02296651.js";function U(){const m=g(),[u,h]=o.exports.useState(!1),[e,d]=o.exports.useState({name:"",email:"",role:"doctor",department:"",address:"",phone:"",password:""});function n(s){d(r=>({...r,[s.target.name]:s.target.value}))}let c=x().search;const p=new URLSearchParams(c).get("edit");return o.exports.useEffect(()=>{i.get(`/staff/?edit=${p}`).then(s=>{d(s.data)})},[]),t(w,{children:t(y,{formName:"EDIT DOCTOR",children:v("form",{onSubmit:s=>{s.preventDefault(),h(!0),i.put(`/staff/${p}`,{name:e==null?void 0:e.name,email:e==null?void 0:e.email,role:e==null?void 0:e.role,department:e==null?void 0:e.department,address:e==null?void 0:e.address,phone:e==null?void 0:e.phone,password:e==null?void 0:e.password}).then(r=>{m("/admin/doctors",{replace:!0}),l.success(r.data)}).catch(r=>{l.error(r.response.data)})},children:[t(a,{label:"Name",type:"text",name:"name",value:e==null?void 0:e.name,onChange:n}),t(a,{label:"Email",type:"text",name:"email",value:e==null?void 0:e.email,onChange:n}),t(a,{label:"Department",type:"text",name:"department",value:e==null?void 0:e.department,onChange:n}),t(a,{label:"Address",type:"text",name:"address",value:e==null?void 0:e.address,onChange:n}),t(a,{label:"Phone",type:"text",name:"phone",value:e==null?void 0:e.phone,onChange:n}),t(a,{label:"Password",type:"password",name:"password",value:e==null?void 0:e.password,onChange:n}),t("input",{type:"hidden",name:"role",onChange:n}),t(b,{children:u?t(C,{}):"EDIT DOCTOR"})]})})})}export{U as default};
