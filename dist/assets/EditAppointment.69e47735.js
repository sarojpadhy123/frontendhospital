import{u as v,r as n,l as C,i as E,b as s,j as o,a as c,f as u}from"./index.d87dee6f.js";import{B as y}from"./ButtonPreloader.e6928a61.js";import"./react-confirm-alert.30c1f10e.js";import{B}from"./Button.3275d51a.js";import{I}from"./Input.34d9876e.js";import{S as L}from"./Select.a91200f8.js";import{F as N}from"./FormLayout.630feb8e.js";import{D as j}from"./DoctorSidebar.182adcd2.js";import"./index.esm.e91ca65e.js";import"./index.esm.4a753652.js";import"./index.esm.812bafa8.js";import"./index.esm.9f9cf711.js";import"./Forbidden.02296651.js";function G(){const l=v(),{user:r}=n.exports.useContext(C),[h,f]=n.exports.useState([]),[g,x]=n.exports.useState([]),[S,b]=n.exports.useState(!1),[a,d]=n.exports.useState({doctorid:`${r==null?void 0:r._id}`,patientid:"",date:""});function i(t){d(e=>({...e,[t.target.name]:t.target.value}))}let P=E().search;const p=new URLSearchParams(P).get("edit");return n.exports.useEffect(()=>{s.get("/patient").then(t=>{f(t.data)}),s.get(`/appointment/?edit=${p}`).then(t=>{var e,m;d(t.data),x((m=(e=t.data)==null?void 0:e.patients[0])==null?void 0:m.name)})},[]),o(j,{children:o(N,{formName:"EDIT APPOINTMENT",children:c("form",{onSubmit:t=>{t.preventDefault(),b(!0),s.put(`/appointment/${p}`,{doctorid:a.doctorid,patientid:a.patientid,date:a.date}).then(e=>{l("/doctor/appointments",{replace:!0}),u.success(e.data)}).catch(e=>{u.error(e.response.data)})},children:[o("input",{type:"hidden",name:"doctorid",onChange:i}),c(L,{label:"Patient",name:"patientid",type:"number",onChange:i,children:[o("option",{value:a==null?void 0:a.patientid,children:g}),h.map((t,e)=>o("option",{value:t==null?void 0:t._id,children:t==null?void 0:t.name},e))]}),o(I,{label:"Date",type:"date",name:"date",value:a==null?void 0:a.date,onChange:i}),o(B,{children:S?o(y,{}):"Edit Appointment"})]})})})}export{G as default};
