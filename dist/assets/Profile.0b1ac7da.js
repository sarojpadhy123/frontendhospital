import{r as o,l as b,u as g,b as r,a as l,j as t,R as m,f as p}from"./index.d87dee6f.js";import{d as h}from"./react-confirm-alert.30c1f10e.js";function f(){const{user:n}=o.exports.useContext(b);g();const[e,c]=o.exports.useState({name:"",email:"",address:"",phone:"",oldpassword:"",newpassword:"",confirmpassword:""});function a(s){c(d=>({...d,[s.target.name]:s.target.value}))}const i=n==null?void 0:n._id;o.exports.useEffect(()=>{r.get(`/staff/?edit=${i}`).then(s=>{c(s.data)})},[]);const u=s=>{s.preventDefault(),r.put(`/profile/${i}`,{name:e==null?void 0:e.name,email:e==null?void 0:e.email,address:e==null?void 0:e.address,phone:e==null?void 0:e.phone}).then(()=>window.location.reload(!0),{replace:!0}).catch(d=>{p.error(d.response.data)})},x=s=>{s.preventDefault(),r.put(`/updatepassword/${i}`,{oldpassword:e==null?void 0:e.oldpassword,newpassword:e==null?void 0:e.newpassword,confirmpassword:e==null?void 0:e.confirmpassword}).then(()=>window.location.reload(!0),{replace:!0}).catch(d=>{p.error(d.response.data)})};return l("div",{className:"bg-indigo-50",children:[l("div",{className:"flex flex-col lg:flex-row justify-between gap-4 lg:gap-12 lg:p-8",children:[l("div",{className:"bg-white rounded-full h-72 w-96 flex flex-col items-center justify-center",children:[t("h1",{className:"mb-2 font-bold text-2xl",children:n==null?void 0:n.name}),t("p",{children:n==null?void 0:n.email})]}),l("div",{className:"bg-indigo-200 w-full p-8 rounded-lg",children:[l("h1",{className:"mb-8 font-bold text-black text-2xl flex items-center gap-2",children:[m.createElement(h,{size:"25"}),"PROFILE"]}),l("form",{onSubmit:u,children:[l("div",{className:"flex items-center gap-4 mb-4",children:[t("label",{htmlFor:"",className:"text-black text-lg w-20",children:"Name"}),t("input",{type:"text",value:e==null?void 0:e.name,name:"name",onChange:a,className:"w-full rounded-md p-2 text-base outline-none"})]}),l("div",{className:"flex items-center gap-4 mb-4",children:[t("label",{htmlFor:"",className:"text-black text-lg w-20",children:"Email"}),t("input",{type:"text",value:e==null?void 0:e.email,name:"email",onChange:a,className:"w-full rounded-md p-2 text-base outline-none"})]}),l("div",{className:"flex justify-between items-center gap-4 mb-4",children:[t("label",{htmlFor:"",className:"text-black text-lg w-20",children:"Phone"}),t("input",{type:"text",value:e==null?void 0:e.phone,name:"phone",onChange:a,className:"w-full rounded-md p-2 text-base outline-none"})]}),l("div",{className:"flex justify-between items-center gap-4 mb-4",children:[t("label",{htmlFor:"",className:"text-black text-lg w-20",children:"Address"}),t("input",{type:"text",value:e==null?void 0:e.address,name:"address",onChange:a,className:"w-full rounded-md p-2 text-base outline-none"})]}),t("button",{className:"bg-white px-8 py-2 rounded-full font-semibold text-base ml-12 mt-4 hover:bg-indigo-900 hover:text-white duration-200",children:"UPDATE"})]})]})]}),t("div",{className:"lg:px-8 pb-8 pt-8 lg:pt-0",children:l("div",{className:"bg-indigo-200 w-full p-8 rounded-lg",children:[l("h1",{className:"mb-8 font-bold text-black text-2xl flex items-center gap-2",children:[m.createElement(h,{size:"25"}),"CHANGE PASSWORD"]}),l("form",{onSubmit:x,children:[l("div",{className:"flex items-center gap-4 mb-4",children:[t("label",{htmlFor:"",className:"text-black text-lg w-44 text-right",children:"Old Password"}),t("input",{type:"password",name:"oldpassword",onChange:a,className:"w-full rounded-md p-2 text-base outline-none"})]}),l("div",{className:"flex items-center gap-4 mb-4",children:[t("label",{htmlFor:"",className:"text-black text-lg w-44 text-right",children:"New Password"}),t("input",{type:"password",name:"newpassword",onChange:a,className:"w-full rounded-md p-2 text-base outline-none"})]}),l("div",{className:"flex items-center gap-4 mb-4",children:[t("label",{htmlFor:"",className:"text-black text-lg w-44 text-right",children:"Confirm Password"}),t("input",{type:"password",name:"confirmpassword",onChange:a,className:"w-full rounded-md p-2 text-base outline-none"})]}),t("button",{className:"bg-white px-8 py-2 rounded-full font-semibold text-base ml-24 mt-4 hover:bg-indigo-900 hover:text-white duration-200",children:"UPDATE"})]})]})})]})}export{f as P};
