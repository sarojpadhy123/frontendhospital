import{u as b,r as n,b as s,i as v,j as r,a as i,f as m}from"./index.d87dee6f.js";import{R as P}from"./ReceptionistSidebar.adc350cd.js";import{B}from"./ButtonPreloader.e6928a61.js";import"./react-confirm-alert.30c1f10e.js";import{B as E}from"./Button.3275d51a.js";import{S as L}from"./Select.a91200f8.js";import{F as j}from"./FormLayout.630feb8e.js";import"./index.esm.e91ca65e.js";import"./index.esm.9f9cf711.js";import"./Forbidden.02296651.js";function z(){const c=b(),[d,l]=n.exports.useState([]),[h,p]=n.exports.useState([]),[f,g]=n.exports.useState(!1),[a,o]=n.exports.useState({name:""});function S(e){o(t=>({...t,[e.target.name]:e.target.value}))}n.exports.useEffect(()=>{s.get("/patient").then(e=>{l(e.data)}),s.get(`/queue/?edit=${u}`).then(e=>{var t;o(e.data),p((t=e.data)==null?void 0:t.name)})},[]);let x=v().search;const u=new URLSearchParams(x).get("edit");return r(P,{children:r(j,{formName:"Edit Queue",children:i("form",{onSubmit:e=>{e.preventDefault(),g(!0),s.put(`/queue/${u}`,{name:a==null?void 0:a.name}).then(t=>{c("/receptionist/queue",{replace:!0}),m.success(t.data)}).catch(t=>{m.error(t.response.data)})},children:[" ",i(L,{label:"Patient",name:"name",type:"text",onChange:S,children:[r("option",{value:a==null?void 0:a.name,children:h}),d.map((e,t)=>r("option",{value:e==null?void 0:e.name,children:e==null?void 0:e.name},t))]}),r(E,{children:f?r(B,{}):"Edit Queue"})]})})})}export{z as default};
