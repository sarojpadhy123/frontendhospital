import{r as a,l as f,u as P,i as E,b as o,j as n,a as d,f as u}from"./index.d87dee6f.js";import{B as I}from"./ButtonPreloader.e6928a61.js";import"./react-confirm-alert.30c1f10e.js";import{B as L}from"./Button.3275d51a.js";import{I as N}from"./Input.34d9876e.js";import{S as h}from"./Select.a91200f8.js";import{F as $}from"./FormLayout.630feb8e.js";function _({url:m}){const{user:s}=a.exports.useContext(f),g=P(),[y,v]=a.exports.useState([]),[x,b]=a.exports.useState([]),[C,B]=a.exports.useState(!1),[e,p]=a.exports.useState({staffname:`${s==null?void 0:s.name}`,type:"birth",patientid:"",description:"",date:""});function r(t){p(i=>({...i,[t.target.name]:t.target.value}))}let S=E().search;const l=new URLSearchParams(S).get("edit");return a.exports.useEffect(()=>{o.get("/patient").then(t=>{v(t.data)}),o.get(`/report/?edit=${l}`).then(t=>{var i,c;p(t.data),b((c=(i=t.data)==null?void 0:i.patients[0])==null?void 0:c.name)})},[]),n($,{formName:"EDIT BIRTH",children:d("form",{onSubmit:t=>{t.preventDefault(),B(!0),o.put(`/report/${l}`,{type:e==null?void 0:e.type,staffname:e==null?void 0:e.staffname,patientid:e==null?void 0:e.patientid,description:e==null?void 0:e.description,date:e==null?void 0:e.date}).then(i=>{g(`${m}`,{replace:!0}),u.success(i.data)}).catch(i=>u.error(i.response.data))},children:[n("input",{type:"hidden",name:"type",onChange:r}),n("input",{type:"hidden",name:"staffname",onChange:r}),d(h,{label:"Patient",name:"patientid",type:"number",onChange:r,children:[n("option",{value:e==null?void 0:e.patientid,children:x}),y.map((t,i)=>n("option",{value:t==null?void 0:t._id,children:t==null?void 0:t.name},i))]}),d(h,{label:"Birth Type",name:"description",type:"text",onChange:r,children:[n("option",{value:e==null?void 0:e.description,children:e==null?void 0:e.description}),n("option",{value:"Natural Delivery",children:"Natural Delivery"}),n("option",{value:"Caesarean Delivery",children:"Caesarean Delivery"}),n("option",{value:"Water Birth",children:"Water Birth"}),n("option",{value:"Hypnobirthing",children:"Hypnobirthing"})]}),n(N,{label:"Date",type:"date",name:"date",value:e==null?void 0:e.date,onChange:r}),n(L,{children:C?n(I,{}):"Edit Birth"})]})})}export{_ as E};
